#!/bin/sh

echo "This container runs sshAsApi."
echo "It's a fun project experimenting with the idea of swapping users metaphor"
echo "in UNIX systems with functions or procedures. What used to be users now are"
echo "functions, methods, procedures... Whatever :-)"
echo ""
echo "Caller authentication is performed using public-key or password and you"
echo "can admin it using the following commands:"
echo "  help"
echo "    This message."
echo ""
echo "  shell"
echo "    Open a shell."
echo ""
echo "  authConfig <applyTo> <authConfig>"
echo "    Set authentication configuration:"
echo "      - <applyTo>     Methods to change. Possible values: 'ALL', method name"
echo "      - <authConfig>  Authentication mechanism. Possible values: 'PASSWORD', 'PUBLIC_KEY'"
echo ""
echo "  lsKey <method>"
echo "    Lists all the keys registered for PUBLIC_KEY authentication"
echo "      - <method>   Method for which the keys will be listed (use 'ALL' to list all keys)"
echo ""
echo "  addKey <applyTo> <key>"
echo "    Adds the specified key to selected methods:"
echo "      - <applyTo>  Methods to add the key to. Possible values: 'ALL', method name"
echo "      - <key>      Key to add to the method"
echo "    This only applies if authConfig for that method is set to PUBLIC_KEY"
echo ""
echo "  rmKey <applyTo> <keyNumber>"
echo "    Deletes the specified key from selected methods:"
echo "      - <applyTo>   Methods to remove the key from. Possible values: 'ALL', method name"
echo "      - <keyNumber> Key number to remove from the method"
echo "    This only applies if authConfig for that method is set to PUBLIC_KEY"
echo ""
echo "  changePassword <applyTo>"
echo "    Changes the password to use the method:"
echo "      - <applyTo>   Methods to apply the new password to. Possible values: 'ALL', method name"

